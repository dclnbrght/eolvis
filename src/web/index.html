<!DOCTYPE html>
<meta charset="utf-8">
<html lang="en">

<head>
    <title>eolvis</title>
    <meta name="description" content="Visualise software EOL (End-Of-Life) timelines">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=1.5, user-scalable=yes">
    <link rel="stylesheet" href="css/tail.select-light.css">
    <link rel="stylesheet" href="css/eolvis.css">
    <link rel="icon" href="eolvis-favicon.png" sizes="32x32" />
</head>

<body>
    <header id="header">
        <div id="header-logo">
            <img src="eolvis-logo.png" alt="eolvis logo" width="22" height="26" />
        </div>
        <h1 id="title">eolvis</h1>
        <div id="header-right">
            <div id="action-new-item" class="header-action">
                <svg width="20" height="20" viewBox="0 0 20 20">
                  <g stroke="#eee" stroke-width="2">
                    <title>add item</title>
                    <path d="M 9.5 2.5 L 9.5 15.5 M 3 9 L 16 9"/>
                  </g>
                </svg>
            </div>
            <div id="action-options" class="header-action">
                <svg width="20" height="20" viewBox="0 0 20 20">
                  <g stroke="#eee" stroke-width="2">
                    <title>options</title>
                    <path d="M 3 3 L 16 3 M 3 9 L 16 9 M 3 15 L 16 15"/>
                  </g>
                </svg>
            </div>
        </div>
    </header>

    <section id="filter-bar" class="filter-bar">
        <div id="typeNameFilter-container" class="filter-container">
            <select id="typeNameFilter" multiple></select>
        </div>
        <div id="periodFilter-container" class="filter-container">
            <select id="periodFilter" multiple></select>
        </div>
    </section>

    <section id="section-eol" class="section-eol">
        <svg id="eolvisSvg" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="item-supported-fadeRight">
                    <stop class="item-supported-stopColour" offset="0%" stop-opacity="0.5" />
                    <stop class="item-supported-stopColour" offset="80%" stop-opacity="0.2" />
                    <stop class="item-supported-stopColour" offset="100%" stop-opacity="0" />
                </linearGradient>
                <linearGradient id="item-supported-border-fadeRight">
                    <stop class="item-supported-border-stopColour" offset="0%" stop-opacity="1.0" />
                    <stop class="item-supported-border-stopColour" offset="80%" stop-opacity="0.5" />
                    <stop class="item-supported-border-stopColour" offset="100%" stop-opacity="0" />
                </linearGradient>
                <linearGradient id="item-inuse-fadeRight">
                    <stop class="item-inuse-stopColour" offset="0%" stop-opacity="1.0" />
                    <stop class="item-inuse-stopColour" offset="80%" stop-opacity="0.5" />
                    <stop class="item-inuse-stopColour" offset="100%" stop-opacity="0" />
                </linearGradient>
                <linearGradient id="item-inuse-future-fadeRight">
                    <stop class="item-inuse-future-stopColour" offset="0%" stop-opacity="1.0" />
                    <stop class="item-inuse-future-stopColour" offset="80%" stop-opacity="0.5" />
                    <stop class="item-inuse-future-stopColour" offset="100%" stop-opacity="0" />
                </linearGradient>
            </defs>
            <g id="itemContainer"></g>
        </svg>
    </section>
    
    <dialog id="dialog-details">
        <h3>Software Details</h3>

        <!-- TODO - remove when database storage is implemented -->
        <p id="dialog-details-message" style="color: darkred; max-width: 24rem;">*** Only saves updates to browser session storage for now although updates can be exported from the options menu ***</p>

        <form id="formDetails" method="post" data-form-sync>
            <fieldset id="formDetails-fieldset" class="form-fieldset">
                <div class="form-item">
                    <label for="item-name">Name:</label>
                    <input type="text" id="item-name" name="name">
                </div>
                <div class="form-item">
                    <label for="item-version">Version:</label>
                    <input type="text" id="item-version" name="version">
                </div>
                <div class="form-item">
                    <label for="item-lts">LTS:</label>
                    <input type="checkbox" id="item-lts" name="lts" checked>
                </div>
                <div class="form-item">
                    <label for="item-type">Type:</label>
                    <select id="item-type" name="type"></select>
                </div>
                <hr>
                <div class="form-item">
                    <label for="supportedFrom">Supported From:</label>
                    <input type="date" id="supportedFrom" name="supportedFrom">
                </div>
                <div class="form-item">
                    <label for="item-supportedTo">Supported To:</label>
                    <input type="date" id="item-supportedTo" name="supportedTo">
                </div>
                <div class="form-item">
                    <label for="item-supportedToExtended">Extended Support To:</label>
                    <input type="date" id="item-supportedToExtended" name="supportedToExtended">
                    <span><em>(only if purchased)</em></span>
                </div>
                <div class="form-item">
                    <label for="item-link">Link:</label>
                    <input type="text" id="item-link" name="link">
                    <a id="item-link-anchor" href="" target="_blank">(link)</a>
                </div>
                <hr>
                <div class="form-item">
                    <label for="item-latestPatch">Latest Patch:</label>
                    <input type="text" id="item-latestPatch" name="latestPatch">
                </div>
                <div class="form-item">
                    <label for="item-latestPatchReleased">Patch Released:</label>
                    <input type="date" id="item-latestPatchReleased" name="latestPatchReleased">
                </div>
                <hr>
                <div class="form-item">
                    <label for="item-useFrom">Use From:</label>
                    <input type="date" id="item-useFrom" name="useFrom">
                </div>
                <div class="form-item">
                    <label for="item-useTo">Use To:</label>
                    <input type="date" id="item-useTo" name="useTo">
                </div>
                <hr>
                <div class="form-item">
                    <label for="item-notes">Notes:</label>
                    <textarea id="item-notes" name="notes"></textarea>
                </div>
                <hr>
                <div id="item-updated-wrapper" class="form-item">
                    <label for="item-updated">Last Updated:</label>
                    <input type="date" id="item-updated" name="updated" readonly>
                </div>
            </fieldset>
        </form>
        <div id="dialog-form-error" class="dialog-form-error hidden"></div>
        <div class="dialog-button-container">
            <button id="dialog-details-delete" class="dialog-button dialog-button-secondary dialog-button-left">Delete</button>
            <button id="dialog-details-cancel" class="dialog-button dialog-button-secondary">Cancel</button>
            <button id="dialog-details-save" class="dialog-button">Save</button>
        </div>
    </dialog>

    <dialog id="dialog-options">
        <div id="dialog-options-close-x" class="dialog-close-x">X</div>
        <h3>Options</h3>

        <div id="options-exportEol">
            <h4>Export Data</h4>
            <p>Export a data file in the Eolvis format.</p>
            <div class="dialog-button-container">
                <button id="dialog-options-export-eol" class="dialog-button">Export Data</button>
            </div>
        </div>        
        <br /><hr />

        <div id="options-exportSBoM">
            <h4>Export SBoM</h4>
            <p>Export a SBoM (Software Bill of Materials) in CycloneDX format.</p>
            <div class="dialog-button-container">
                <button id="dialog-options-export-bom" class="dialog-button">Export SBoM</button>
            </div>
        </div>        
        <br /><hr />

        <div class="dialog-button-container">
            <button id="dialog-options-close" class="dialog-button">Close</button>
        </div>
    </dialog>

    <script src="libs/tail.select-full.min.js"></script>
    <script type="module" src="index.js"></script>
</body>

</html>